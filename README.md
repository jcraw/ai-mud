# AI-Powered MUD Engine

A text-based Multi-User Dungeon (MUD) game with dynamic LLM-generated content.

## Current Status

**âœ¨ Enhanced MVP with LLM Integration** - The game is fully playable with AI-powered content! Currently features:

- **LLM-Powered Room Descriptions** - GPT-4o-mini generates vivid, atmospheric narratives
- **LLM-Powered NPC Dialogue** - Personality-driven conversations with NPCs
- **Item Management** - Pick up and drop items with inventory tracking
- Complete multi-module architecture with 6 modules
- Sample dungeon with 6 interconnected rooms, items, and NPCs
- Working console interface with text parser
- Movement, exploration, and interaction systems
- Graceful fallback when API key is not set

## Quick Start

### 1. Set up OpenAI API Key

Add your API key to `local.properties`:
```properties
openai.api.key=sk-your-key-here
```

Or set as environment variable:
```bash
export OPENAI_API_KEY="sk-your-key-here"
```

### 2. Build and Run

```bash
gradle installDist && app/build/install/app/bin/app
```

Or use the test script to verify everything works:
```bash
./test_game.sh
```

### 3. Play!

Available commands:
- **Movement**: `n`, `s`, `e`, `w` - Move in cardinal directions
- **Observation**: `look` - Examine your surroundings, `look <target>` - Examine a specific entity
- **Items**: `take <item>` / `get <item>` - Pick up items, `drop <item>` / `put <item>` - Drop items
- **NPCs**: `talk <npc>` / `speak <npc>` - Talk to NPCs
- **Inventory**: `inventory` / `i` - View your items
- **Meta**: `help` - Show command list, `quit` - Exit game

## Features

### âœ… Implemented
- **LLM-Powered Room Descriptions**: Vivid atmospheric narratives generated by GPT-4o-mini (temp 0.8)
- **LLM-Powered NPC Dialogue**: Personality-driven conversations considering disposition (hostile/friendly) and health
- **Item Mechanics**: Pick up and drop items with fuzzy name matching
- **Inventory System**: Manage items carried by the player
- **Sample Dungeon**: 6 interconnected rooms (entrance, corridor, treasury, armory, throne room, secret chamber)
- **Movement System**: Navigate between rooms with directional commands
- **Entity System**: Items (gold pouch, iron sword) and NPCs (Old Guard, Skeleton King)
- **Trait-Based Generation**: Rooms defined by traits, descriptions created dynamically
- **Graceful Fallback**: Works without API key (simple descriptions)

### ðŸ”„ Coming Next
- **Combat mechanics** - Turn-based combat with LLM-narrated attacks
- **Item usage** - Use items, equip weapons, consume potions
- **Skill checks** - Stat-based interactions and challenges
- **Memory/RAG integration** - Persistent world history and context
- **Procedural generation** - Dynamically generated dungeons

## Architecture

Multi-module Gradle project following clean architecture:

```
core       â†’ World model (Room, Entity, WorldState, PlayerState)
perception â†’ Input parsing (text â†’ Intent objects)
reasoning  â†’ LLM-powered generation and game logic
action     â†’ Output formatting and narration
memory     â†’ State persistence and vector database
llm        â†’ OpenAI client and LLM interfaces
app        â†’ Console-based game interface
```

## Development

### Build
```bash
gradle build
```

### Run Tests
```bash
gradle test
```

### Run Specific Module Tests
```bash
gradle :reasoning:test
gradle :perception:test
```

## Documentation

- **[Developer Guide](docs/DEVELOPER_GUIDE.md)** - Quick reference for common tasks
- **[Implementation Status](docs/IMPLEMENTATION_STATUS.md)** - Detailed feature completion tracking
- **[Requirements](docs/requirements.txt)** - Original vision and specifications
- **[Guidelines](CLAUDE_GUIDELINES.md)** - Development principles and testing philosophy
- **[TODO](TODO.md)** - Prioritized task list

## Project Guidelines

- **KISS principle**: Avoid overengineering
- **Sealed classes** over enums
- **Behavior-driven testing**: Test contracts, not coverage
- **File size**: Keep modules under 300-500 lines
- **Cost optimization**: Use gpt-4o-mini for development

See `CLAUDE_GUIDELINES.md` for full guidelines.